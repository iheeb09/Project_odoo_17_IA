cd odoo_fastapi_project
git clone https://github.com/odoo/odoo --depth 1 --branch 17.0 odoo-source
docker-compose build
docker-compose up -d

docker exec -it odoo_fastapi_project-odoo-1 bash
odoo -u hr_intelligent --dev=all -c /etc/odoo/odoo.conf
probleme base : -- üìú reset_conns.sql
-- Terminer toutes les connexions sur une base sp√©cifique (exemple ici: pfe)
docker-compose exec db psql -U odoo -d postgres

SELECT pg_terminate_backend(pg_stat_activity.pid)
FROM pg_stat_activity
WHERE pg_stat_activity.datname = 'pfe'
  AND pid <> pg_backend_pid();

DROP DATABASE pfe;
2- 1Ô∏è‚É£ Arr√™te tout Docker

docker-compose down

2Ô∏è‚É£ Supprime les anciens volumes (important !!)

docker volume prune -f

    ‚ûî Cela va d√©truire tout stockage fant√¥me (y compris PostgreSQL corrompu).

3Ô∏è‚É£ Supprime le volume manuellement si besoin (optionnel mais propre)

Liste tes volumes :

docker volume ls

Supprime ceux li√©s √† ton projet si tu les vois, exemple :

docker volume rm odoo_fastapi_project_db_data

(ou similaire)
4Ô∏è‚É£ Remonte tout

docker-compose up -d

5Ô∏è‚É£ Ouvre ensuite dans navigateur :

http://localhost:8069/web/database/manager
***
creation BD:
docker exec -it odoo_fastapi_project_odoo_1 odoo -c /etc/odoo/odoo.conf -d pfe_rh_ml --no-http --stop-after-init --without-demo=all -i base
****
tester fastapi terminal : curl -X POST http://localhost:8001/predict_turnover \
-H "Content-Type: application/json" \
-d '{"age":30,"department":"IT","years_at_company":3}'
